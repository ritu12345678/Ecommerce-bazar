{"ast":null,"code":"var _jsxFileName = \"/home/spx110/Desktop/BAZAR/my-app/src/Component/useAutoLogout.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AutoLogout() {\n  _s();\n\n  const [isLoggedOut, setIsLoggedOut] = useState(false);\n  const [timerId, setTimerId] = useState(false);\n  const renderCount = useRef(1);\n  useEffect(() => {\n    renderCount.current = renderCount.current + 1;\n  });\n  useEffect(() => {\n    const autoLogout = () => {\n      if (document.visibilityState === \"hidden\") {\n        // set timer to log user out\n        const id = window.setTimeout(() => setIsLoggedOut(true), 10 * 1000);\n        setTimerId(id);\n      } else {\n        // clear existing timer\n        window.clearTimeout(timerId);\n      }\n    };\n\n    document.addEventListener(\"visibilitychange\", autoLogout);\n    return () => document.removeEventListener(\"visibilitychange\", autoLogout);\n  }, [timerId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isLoggedOut ? \"Goodbye\" : \"Welcome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: isLoggedOut ? \"You have been logged out\" : \"Your seesion is active\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"This component has rendered \", renderCount.current, \" time(s)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AutoLogout, \"TsIpp1UijIfBBIHatnnRsCzz+F4=\");\n\n_c = AutoLogout;\n\nvar _c;\n\n$RefreshReg$(_c, \"AutoLogout\");","map":{"version":3,"sources":["/home/spx110/Desktop/BAZAR/my-app/src/Component/useAutoLogout.js"],"names":["useEffect","useRef","useState","AutoLogout","isLoggedOut","setIsLoggedOut","timerId","setTimerId","renderCount","current","autoLogout","document","visibilityState","id","window","setTimeout","clearTimeout","addEventListener","removeEventListener"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;;AAEA,eAAe,SAASC,UAAT,GAAsB;AAAA;;AACjC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCH,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAMM,WAAW,GAAGP,MAAM,CAAC,CAAD,CAA1B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,WAAW,CAACC,OAAZ,GAAsBD,WAAW,CAACC,OAAZ,GAAsB,CAA5C;AACH,GAFQ,CAAT;AAIAT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMU,UAAU,GAAG,MAAM;AACrB,UAAIC,QAAQ,CAACC,eAAT,KAA6B,QAAjC,EAA2C;AACvC;AACA,cAAMC,EAAE,GAAGC,MAAM,CAACC,UAAP,CAAkB,MAAMV,cAAc,CAAC,IAAD,CAAtC,EAA8C,KAAK,IAAnD,CAAX;AACAE,QAAAA,UAAU,CAACM,EAAD,CAAV;AACH,OAJD,MAIO;AACH;AACAC,QAAAA,MAAM,CAACE,YAAP,CAAoBV,OAApB;AACH;AACJ,KATD;;AAWAK,IAAAA,QAAQ,CAACM,gBAAT,CAA0B,kBAA1B,EAA8CP,UAA9C;AAEA,WAAO,MAAMC,QAAQ,CAACO,mBAAT,CAA6B,kBAA7B,EAAiDR,UAAjD,CAAb;AACH,GAfQ,EAeN,CAACJ,OAAD,CAfM,CAAT;AAiBA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACI;AAAA,gBAAKF,WAAW,GAAG,SAAH,GAAe;AAA/B;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,gBACKA,WAAW,GAAG,0BAAH,GAAgC;AADhD;AAAA;AAAA;AAAA;AAAA,YAFJ,eAKI;AAAA,iDAAgCI,WAAW,CAACC,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AASH;;GAnCuBN,U;;KAAAA,U","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport default function AutoLogout() {\n    const [isLoggedOut, setIsLoggedOut] = useState(false);\n    const [timerId, setTimerId] = useState(false);\n    const renderCount = useRef(1);\n\n    useEffect(() => {\n        renderCount.current = renderCount.current + 1;\n    });\n\n    useEffect(() => {\n        const autoLogout = () => {\n            if (document.visibilityState === \"hidden\") {\n                // set timer to log user out\n                const id = window.setTimeout(() => setIsLoggedOut(true), 10 * 1000);\n                setTimerId(id);\n            } else {\n                // clear existing timer\n                window.clearTimeout(timerId);\n            }\n        };\n\n        document.addEventListener(\"visibilitychange\", autoLogout);\n\n        return () => document.removeEventListener(\"visibilitychange\", autoLogout);\n    }, [timerId]);\n\n    return (\n        <div className=\"App\">\n            <h1>{isLoggedOut ? \"Goodbye\" : \"Welcome\"}</h1>\n            <h2>\n                {isLoggedOut ? \"You have been logged out\" : \"Your seesion is active\"}\n            </h2>\n            <p>This component has rendered {renderCount.current} time(s)</p>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}